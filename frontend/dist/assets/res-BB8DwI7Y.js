import{_ as I,r as i,g as z,o as s,c as n,a as t,n as r,u as l,b as d,t as p,F as v,d as b,p as O,e as V,f as $}from"./_plugin-vue_export-helper-DBQglHaf.js";import{a as k,l as w}from"./common-Bjy0tg9W.js";import{v as E,h as H}from"./poll_loader-Cl4xHlcD.js";import{e as M,l as N,a as A}from"./logout-Yy8Z5Elk.js";const L="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='1em'%20height='1em'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='white'%20d='M7%2017h2.1l6-5.95l-2.15-2.15L7%2014.85zm8.8-6.65l1.05-1.1Q17%209.1%2017%208.9t-.15-.35l-1.4-1.4Q15.3%207%2015.1%207t-.35.15l-1.1%201.05zM5%2021q-.825%200-1.412-.587T3%2019V5q0-.825.588-1.412T5%203h4.2q.325-.9%201.088-1.45T12%201t1.713.55T14.8%203H19q.825%200%201.413.588T21%205v14q0%20.825-.587%201.413T19%2021zm0-2h14V5H5zm7-14.75q.325%200%20.538-.213t.212-.537t-.213-.537T12%202.75t-.537.213t-.213.537t.213.538t.537.212M5%2019V5z'/%3e%3c/svg%3e",g=u=>(O("data-v-2e39e8ef"),u=u(),V(),u),P={style:{"background-color":"transparent",height:"100%",overflow:"auto"}},Q={style:{display:"flex","flex-direction":"row"}},R={href:"/"},j=g(()=>t("br",null,null,-1)),D=g(()=>t("p",{style:{color:"#FFF",margin:"auto","text-align":"center"}},"Press ESC to close.",-1)),J={class:"qb"},G=g(()=>t("tr",null,[t("th",{style:{color:"#FFF"}},"Answer"),t("th",{style:{color:"#FFF"}},"Count")],-1)),K={style:{color:"#FFF"}},U={style:{color:"#FFF"}},W={__name:"Res",setup(u){const F=i("#FFF"),x=i("Sample text"),q=i(null),h=i({}),e=JSON.parse(document.getElementById("server-data").innerText),f=i(e.auth),y=e.id;z(()=>!0);const C=E(e.yaml).yaml;for(const m of C.poll){const o=Object.keys(m)[0],a=m[o];switch(a.type){case"CHOICE":{e.responses[o]==null&&(e.responses[o]=[]);for(const _ of a.choices){const c=Object.keys(_)[0];e.responses[o].findIndex(B=>B.value==c)==-1&&e.responses[o].push({value:c,count:0})}break}case"SHORT":{e.responses[o]==null&&(e.responses[o]=[]);break}}}console.log(e.responses),h.value=e.responses;function S(){document.location.href=window.location.protocol+"//"+window.location.host+"/poll/"+y}function T(){document.location.href=window.location.protocol+"//"+window.location.host+"/create/"+y}return(m,o)=>(s(),n("div",P,[t("div",Q,[t("a",R,[t("input",{class:"left-btn",style:r({"background-image":`url("${l(H)}")`}),type:"button"},null,4)]),l(e).can_view?(s(),n("input",{key:0,onClick:S,class:"left-btn",style:r({"background-image":`url("${l(L)}")`}),type:"button"},null,4)):d("",!0),l(e).can_edit?(s(),n("input",{key:1,onClick:T,class:"left-btn",style:r({"background-image":`url("${l(M)}")`}),type:"button"},null,4)):d("",!0),f.value?d("",!0):(s(),n("input",{key:2,onClick:o[0]||(o[0]=(...a)=>l(k)&&l(k)(...a)),class:"left-btn",style:r({"background-image":`url("${l(N)}")`}),type:"button"},null,4)),f.value?(s(),n("input",{key:3,onClick:o[1]||(o[1]=(...a)=>l(w)&&l(w)(...a)),class:"left-btn",style:r({"background-image":`url("${l(A)}")`}),type:"button"},null,4)):d("",!0)]),t("dialog",{ref_key:"dlg",ref:q,style:{"background-color":"#2B2B2B",border:"none","border-radius":"10px"}},[t("h1",{style:r({color:F.value})},p(x.value),5),j,D],512),(s(!0),n(v,null,b(h.value,(a,_)=>(s(),n("div",J,[t("h1",null,p(_),1),t("table",null,[G,(s(!0),n(v,null,b(a,c=>(s(),n("tr",null,[t("td",K,p(c.value),1),t("td",U,p(c.count),1)]))),256))])]))),256))]))}},X=I(W,[["__scopeId","data-v-2e39e8ef"]]);$(X).mount("#app");
