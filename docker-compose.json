{
  "services": {
    "db": {
      "image": "postgres:17-alpine",
      "environment": {
        "POSTGRES_USER": "${DB_USR}",
        "POSTGRES_PASSWORD": "${DB_PASSWD}",
        "POSTGRES_DB": "${DB_NAME}",
		"PGDATA": "/postgresdata"
      },
	  "expose": [ 5432 ],
	  "ports": [ "5432:5432" ],
      "healthcheck": {
        "test": ["CMD-SHELL", "pg_isready -d polls -U $$POSTGRES_USER"],
        "start_period": "10s",
        "interval": "5s",
        "retries": 10
      }
    },
    "app": {
      "build": ".",	
      "env_file": ".env",
      "environment": {},
      "ports": ["8000:8000"],
      "depends_on": ["db"]
    }
  }
}
